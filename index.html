<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Transmission Log</title>

<style>
:root {
  --bg: #05060b;
  --moon: #e6e6e6;
  --dim: rgba(255,255,255,0.25);
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #0b0d18, #05060b 70%);
  color: #eaeaea;
  font-family: "Segoe UI", system-ui, sans-serif;
  overflow-x: hidden;
}

/* STAR FIELD */
body::before {
  content:"";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(1px 1px at 20% 30%, white, transparent),
    radial-gradient(1px 1px at 80% 40%, white, transparent),
    radial-gradient(1px 1px at 60% 80%, white, transparent),
    radial-gradient(1px 1px at 40% 60%, white, transparent);
  opacity: 0.2;
  animation: drift 80s linear infinite;
  pointer-events: none;
}

@keyframes drift {
  from { transform: translateY(0); }
  to { transform: translateY(-300px); }
}

/* CONTAINER */
#app {
  max-width: 420px;
  margin: 0 auto;
  padding: 40px 20px 120px;
  text-align: center;
}

/* MONTH CARD */
.month {
  margin-bottom: 30px;
  padding: 25px;
  border-radius: 14px;
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(6px);
  box-shadow: 0 0 30px rgba(255,255,255,0.05);
}

.month h2 {
  margin: 0 0 12px;
  letter-spacing: 0.12em;
  font-weight: 500;
  opacity: 0.9;
}

input {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  background: transparent;
  border: 1px solid var(--dim);
  border-radius: 8px;
  color: white;
  text-align: center;
  letter-spacing: 0.2em;
}

input:focus {
  outline: none;
  border-color: var(--moon);
}

/* WRONG ANSWER PULSE */
.wrong {
  animation: pulse 0.4s ease;
  border-color: #ff5f5f !important;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 rgba(255,0,0,0); }
  50% { box-shadow: 0 0 12px rgba(255,0,0,0.6); }
  100% { box-shadow: 0 0 0 rgba(255,0,0,0); }
}

/* PROGRESS MOONS */
#moon-progress {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
}

.moon {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #333;
  opacity: 0.3;
}

.moon.active {
  background: radial-gradient(circle at 30% 30%, #fff, #ccc, #777);
  opacity: 1;
  box-shadow: 0 0 10px rgba(255,255,255,0.6);
}

/* FINAL MESSAGE */
#final {
  display: none;
  margin-top: 40px;
  line-height: 1.6;
  opacity: 0.9;
}
</style>
</head>

<body>
<div id="app"></div>
<div id="moon-progress"></div>

<script>
/* LOCKED ANSWERS — DO NOT CHANGE */
const months = [
  "YOU",
  "SAW",
  "ME",
  "FROM",
  "THE",
  "MOON",
  "YOU",
  "LOOKED",
  "BACK",
  "WITHOUT",
  "KNOWING",
  "WHY"
];

let currentMonth = 0;

/* RENDER */
function render() {
  const app = document.getElementById("app");
  app.innerHTML = "";

  if (currentMonth < months.length) {
    const div = document.createElement("div");
    div.className = "month";
    div.innerHTML = `
      <h2>TRANSMISSION ${currentMonth + 1}</h2>
      <input id="answer" placeholder="ENTER SIGNAL" autocomplete="off"/>
    `;
    app.appendChild(div);

    const input = document.getElementById("answer");
    input.addEventListener("keydown", e => {
      if (e.key === "Enter") checkAnswer(input);
    });
  } else {
    const final = document.createElement("div");
    final.id = "final";
    final.style.display = "block";
    final.innerHTML = `
      <p>You were not supposed to arrive here.</p>
      <p>The probability of twelve correct transmissions was low.</p>
      <p>Yet you persisted.</p>
      <p>I have been observing from a distance.</p>
      <p>Not because I am afraid.</p>
      <p>But because interference alters outcomes.</p>
      <p>In my world, we do not reveal ourselves.</p>
      <p>We send signals instead.</p>
      <p>If this message resonates,<br>know that it was meant for you.</p>
      <p>— Subject 13</p>
    `;
    app.appendChild(final);
  }

  renderMoons();
}

/* CHECK ANSWER */
function checkAnswer(input) {
  const value = input.value.trim().toUpperCase();

  if (value === months[currentMonth]) {
    currentMonth++;
    render();
  } else {
    input.classList.remove("wrong");
    void input.offsetWidth;
    input.classList.add("wrong");
  }
}

/* MOON PHASE PROGRESS */
function renderMoons() {
  const container = document.getElementById("moon-progress");
  container.innerHTML = "";

  months.forEach((_, i) => {
    const m = document.createElement("div");
    m.className = "moon";
    if (i < currentMonth) m.classList.add("active");
    container.appendChild(m);
  });
}

render();
</script>
</body>
</html>
